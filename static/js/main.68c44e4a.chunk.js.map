{"version":3,"sources":["Redux/mainReducer.js","vk-api.js","Redux/userReducer.js","Containers/UserGroupsList.js","Containers/UserFriendsList.js","Panels/Main/MainPanel.js","Panels/FriendGroups/FriendGroupsPanel.js","App.js","index.js"],"names":["ACTIONS","initialState","activeView","activePanel","activePanelProps","activeTab","fetchedUser","authToken","changePanel","panel","data","dispatch","type","payload","MainReducer","state","arguments","length","undefined","action","Object","objectSpread","view","getUserGroups","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","userId","wrap","_context","prev","next","connect","send","method","params","user_id","fields","extended","v","access_token","abrupt","sent","stop","_x","_x2","apply","this","getGroupsById","_ref2","_callee2","groupsIds","_context2","group_ids","String","_x3","_x4","getUserFriendsGroups","_ref3","_callee3","friends","_context3","_x5","_x6","getUserFriends","_ref4","_callee4","_context4","order","name_case","_x7","_x8","userGroups","userGroupsIsLoading","userFriends","userFriendsIsLoading","userFriendsGroups","userFriendsGroupsIsLoading","userFriendsGroupsAnalyzeProgress","UserReducer","console","log","groups","isLoading","userFriendIsLoading","value","UserGroupsList","props","react_default","createElement","vkui","map","group","key","id","before","src","photo_200","description","concat","members_count","name","mapDispatchToProps","ReactConnect","friend","onClick","fullname","first_name","last_name","size","photo_100","changeActiveTab","tab","fetchUserGroups","response","items","fetchUserFriends","t0","filter","t1","t2","has","fetchUserFriendsGroups","chunks","i","friendGroups","rankedGroups","chunk","Promise","resolve","setTimeout","Math","floor","sortBy","original","reduce","b","c","findIndex","d","el","push","count","reverse","includes","slice","t3","t4","main","user","react","noShadow","vertical","theme","selected","style","marginTop","Containers_UserGroupsList","Containers_UserFriendsList","title","renderTab","osname","platform","ReduxConnect","_props$activePanelPro","_useState","useState","_useState2","slicedToArray","setFriendGroups","addon","left","IOS","chevron_back_default","back_default","then","res","getFriendGroups","App","go","e","_this","currentTarget","dataset","to","_this$props","changeFetchedUser","changeAuthToken","subscribe","detail","app_id","scope","_this$props2","Main_MainPanel","FriendGroups_FriendGroupsPanel","React","Component","changeView","token","appReducers","store","createStore","combineReducers","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.68c44e4a.chunk.js","sourcesContent":["const ACTIONS = {\n    CHANGE_VIEW: \"MAIN_CHANGE_VIEW\",\n    CHANGE_PANEL: \"MAIN_CHANGE_PANEL\",\n    CHANGE_FETCHED_USER: \"MAIN_CHANGE_FETCHED_USER\",\n    CHANGE_ACTIVE_TAB: \"MAIN_CHANGE_ACTIVE_TAB\",\n    CHANGE_USER_FRIENDS: \"MAIN_CHANGE_USER_FRIENDS\",\n    CHANGE_AUTH_TOKEN: \"MAIN_CHANGE_AUTH_TOKEN\"\n}\n\nconst initialState = {\n    activeView: 'main',\n    activePanel: 'main',\n    activePanelProps: null,\n    activeTab: 'groups',\n    fetchedUser: null,\n    authToken: null\n}\n\nconst MainReducer = (state = initialState, action) => {\n    const payload = action.payload;\n    switch (action.type) {\n        case ACTIONS.CHANGE_VIEW:\n            return {\n                ...state,\n                activeView: payload.view,\n                activePanel: payload.panel\n            };\n        case ACTIONS.CHANGE_PANEL:\n            return {\n                ...state,\n                activePanel: payload.panel,\n                activePanelProps: payload.data\n            };\n        case ACTIONS.CHANGE_ACTIVE_TAB:\n            return {\n                ...state,\n                activeTab: payload\n            };\n        case ACTIONS.CHANGE_FETCHED_USER:\n            return {\n                ...state,\n                fetchedUser: payload\n            };\n        case ACTIONS.CHANGE_AUTH_TOKEN:\n            return {\n                ...state,\n                authToken: payload\n            };\n        default:\n            return state\n    }\n}\n\nexport const changeView = (view, panel) => dispatch => {\n    dispatch({\n        type: ACTIONS.CHANGE_VIEW,\n        payload: {\n            view: view,\n            panel: panel\n        }\n    });\n}\n\nexport const changePanel = (panel, data) => dispatch => {\n    dispatch({\n        type: ACTIONS.CHANGE_PANEL,\n        payload: {\n            panel,\n            data\n        }\n    });\n}\n\nexport const changeAuthToken = token => dispatch => {\n    dispatch({\n        type: ACTIONS.CHANGE_AUTH_TOKEN,\n        payload: token\n    });\n}\n\nexport const changeActiveTab = tab => async dispatch => {\n    dispatch({\n        type: ACTIONS.CHANGE_ACTIVE_TAB,\n        payload: tab\n    });\n}\n\nexport const changeFetchedUser = fetchedUser => dispatch => {\n    dispatch({\n        type: ACTIONS.CHANGE_FETCHED_USER,\n        payload: fetchedUser\n    })\n}\n\nexport default MainReducer;","import connect from '@vkontakte/vkui-connect-promise';\n\nexport const getUserGroups = async (authToken, userId) => {\n    return await connect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": \"groups.get\",\n        \"params\": {\n            \"user_id\": userId,\n            \"fields\": \"members_count\",\n            \"extended\": true,\n            \"v\": \"5.95\",\n            \"access_token\": authToken\n        }\n    });\n}\n\nexport const getGroupsById = async (authToken, groupsIds) => {\n    return await connect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": \"groups.getById\",\n        \"params\": {\n            \"group_ids\": String(groupsIds),\n            \"fields\": \"members_count\",\n            \"v\": \"5.95\",\n            \"access_token\": authToken\n        }\n    });\n}\n\nexport const getUserFriendsGroups = async (authToken, friends) => {\n    return await connect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": \"execute.getUserFriendGroups\",\n        \"params\": {\n            \"friends\": String(friends),\n            \"v\": \"5.95\",\n            \"access_token\": authToken\n        }\n    });\n}\n\nexport const getUserFriends = async (authToken, userId) => {\n    return await connect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": \"friends.get\",\n        \"params\": {\n            \"user_id\": userId,\n            \"order\": \"name\",\n            \"fields\": \"photo_100\",\n            \"name_case\": \"nom\",\n            \"v\": \"5.95\",\n            \"access_token\": authToken\n        }\n    });\n}","import {\n    getUserGroups,\n    getUserFriends,\n    getUserFriendsGroups,\n    getGroupsById\n} from '../vk-api';\n\nimport {\n    map,\n    filter,\n    has,\n    chunk,\n    sortBy\n} from 'lodash';\n\nconst ACTIONS = {\n    CHANGE_USER_GROUPS: \"USER_CHANGE_USER_GROUPS\",\n    CHANGE_USER_GROUPS_LOADING: \"USER_CHANGE_USER_GROUPS_LOADING\",\n    CHANGE_USER_FRIENDS: \"USER_CHANGE_USER_FRIENDS\",\n    CHANGE_USER_FRIENDS_LOADING: \"CHANGE_USER_FRIENDS_LOADING\",\n    CHANGE_USER_FRIENDS_GROUPS: \"USER_CHANGE_USER_FRIENDS_GROUPS\",\n    CHANGE_USER_FRIENDS_GROUPS_LOADING: \"USER_CHANGE_USER_FRIENDS_GROUPS_LOADING\",\n    CHANGE_USER_FRIENDS_GROUPS_ANALYZE: \"USER_CHANGE_USER_FRIENDS_GROUPS_ANALYZE\"\n}\n\nconst initialState = {\n    userGroups: null,\n    userGroupsIsLoading: false,\n    userFriends: null,\n    userFriendsIsLoading: false,\n    userFriendsGroups: null,\n    userFriendsGroupsIsLoading: false,\n    userFriendsGroupsAnalyzeProgress: 0,\n\n}\n\nconst UserReducer = (state = initialState, action) => {\n    const payload = action.payload;\n    console.log(action.type, payload);\n    switch (action.type) {\n        case ACTIONS.CHANGE_USER_GROUPS:\n            return {\n                ...state,\n                userGroups: payload.groups,\n                userGroupsIsLoading: payload.isLoading\n            };\n        case ACTIONS.CHANGE_USER_GROUPS_LOADING:\n            return {\n                ...state,\n                userGroupsIsLoading: payload.isLoading\n            };\n        case ACTIONS.CHANGE_USER_FRIENDS:\n            return {\n                ...state,\n                userFriends: payload.friends,\n                userFriendIsLoading: payload.isLoading\n            };\n        case ACTIONS.CHANGE_USER_FRIENDS_LOADING:\n            return {\n                ...state,\n                userFriendsIsLoading: payload.isLoading\n            };\n        case ACTIONS.CHANGE_USER_FRIENDS_GROUPS:\n            return {\n                ...state,\n                userFriendsGroups: payload.groups,\n                userFriendsGroupsIsLoading: payload.isLoading\n            };\n        case ACTIONS.CHANGE_USER_FRIENDS_GROUPS_ANALYZE:\n            return {\n                ...state,\n                userFriendsGroupsAnalyzeProgress: payload.value\n            };\n        default:\n            return state;\n    }\n}\n\nexport const fetchUserGroups = (authToken, userId) => async (dispatch) => {\n    dispatch({\n        type: ACTIONS.CHANGE_USER_GROUPS_LOADING,\n        payload: {\n            isLoading: true\n        }\n    });\n    const groups = (await getUserGroups(authToken, userId)).data.response.items;\n    dispatch({\n        type: ACTIONS.CHANGE_USER_GROUPS,\n        payload: {\n            groups,\n            isLoading: false\n        }\n    });\n}\n\nexport const fetchUserFriends = (authToken, userId) => async (dispatch) => {\n    dispatch({\n        type: ACTIONS.CHANGE_USER_FRIENDS_LOADING,\n        payload: {\n            isLoading: true\n        }\n    });\n    const friends = filter((await getUserFriends(authToken, userId)).data.response.items, friend => {\n        return has(friend, 'deactivated') === false;\n    });\n    dispatch({\n        type: ACTIONS.CHANGE_USER_FRIENDS,\n        payload: {\n            friends,\n            isLoading: false\n        }\n    });\n}\n\nconst compressArray = original => {\n    return original.reduce((b, c) => ((b[b.findIndex(d => d.el === c)] || b[b.push({\n        el: c,\n        count: 0\n    }) - 1]).count++, b), []);\n}\n\nexport const fetchUserFriendsGroups = (authToken, userGroups, friends) => async (dispatch) => {\n    dispatch({\n        type: ACTIONS.CHANGE_USER_FRIENDS_GROUPS_LOADING,\n        payload: {\n            isLoading: true\n        }\n    });\n    const chunks = chunk(friends, 25);\n    let groups = [];\n    for (let i = 0; i < chunks.length; ++i) {\n        const friendGroups = (await getUserFriendsGroups(authToken, map(chunks[i], chunk => {\n            return chunk.id;\n        }))).data.response;\n        await new Promise(resolve => setTimeout(resolve, 3000));\n        groups = groups.concat(friendGroups);\n        dispatch({\n            type: ACTIONS.CHANGE_USER_FRIENDS_GROUPS_ANALYZE,\n            payload: {\n                value: Math.floor((i + 1) / chunks.length * 100)\n            }\n        })\n    }\n    const rankedGroups = filter(map(sortBy(compressArray(groups), 'count').reverse(), group => {\n        return group.el;\n    }), group => {\n        return map(userGroups, el => {\n            return el.id\n        }).includes(group) === false;\n    }).slice(0, 25);\n    dispatch({\n        type: ACTIONS.CHANGE_USER_FRIENDS_GROUPS,\n        payload: {\n            groups: (await getGroupsById(authToken, rankedGroups)).data.response,\n            isLoading: false\n        }\n    })\n}\n\nexport default UserReducer;","import React from 'react';\nimport {Avatar, List, Cell} from '@vkontakte/vkui'\n\nconst UserGroupsList = (props) => {\n\n    const {userGroups} = props;\n\n    return (\n        <List>\n            {userGroups.map(group => {\n                return (\n                    <Cell\n                        key={group.id}\n                        before={< Avatar src = {\n                        group.photo_200\n                    } />}\n                        description={`${group.members_count} Подписчиков`}>{group.name}</Cell>\n                )\n            })\n}\n        </List>\n        \n    )\n}\n\nexport default UserGroupsList;","import React from 'react';\nimport {connect as ReactConnect} from 'react-redux';\nimport {changePanel} from '../Redux/mainReducer';\nimport {Avatar, List, Cell} from '@vkontakte/vkui';\n\nconst UserFriendsList = (props) => {\n\n    const {userFriends, changePanel} = props;\n\n    return (\n        <List>\n            {userFriends.map(friend => {\n                return (\n                    <Cell\n                        onClick={() => {\n                        changePanel('friendGroups',{id: friend.id, fullname: `${friend.first_name} ${friend.last_name}`});\n                    }}\n                        key={friend.id}\n                        before={< Avatar size = {\n                        48\n                    }\n                    src = {\n                        friend.photo_100\n                    } />}>{friend.first_name} {friend.last_name}</Cell>\n                )\n            })\n}\n        </List>\n    )\n}\nconst mapDispatchToProps = {\n    changePanel\n}\nexport default ReactConnect(null, mapDispatchToProps)(UserFriendsList);","import React, {Fragment} from 'react';\nimport {Tabs, TabsItem, HorizontalScroll, PanelHeader, FixedLayout, Group, Div, InfoRow, Progress } from '@vkontakte/vkui';\nimport {connect as ReactConnect} from 'react-redux';\n\nimport {changeActiveTab} from '../../Redux/mainReducer';\nimport {fetchUserGroups, fetchUserFriends, fetchUserFriendsGroups} from '../../Redux/userReducer'\nimport UserGroupsList from '../../Containers/UserGroupsList';\nimport UserFriendsList from '../../Containers/UserFriendsList';\n\nconst MainPanel = props => {\n\n    const {authToken, fetchedUser, activeTab, \n        changeActiveTab, fetchUserGroups, userGroups,\n         userGroupsIsLoading, fetchUserFriends, userFriends,\n          userFriendsIsLoading, userFriendsGroups, userFriendsGroupsIsLoading,\n          fetchUserFriendsGroups, userFriendsGroupsAnalyzeProgress} = props;\n\n    if (authToken && fetchedUser){\n        console.log(props);\n        if (!userGroups && !userGroupsIsLoading){\n            fetchUserGroups(authToken, fetchedUser.id);\n        }\n\n        if (!userFriends && !userFriendsIsLoading){\n            fetchUserFriends(authToken, fetchedUser.id);\n        }\n\n        if (userFriends && !userFriendsGroups && !userFriendsGroupsIsLoading){\n            fetchUserFriendsGroups(authToken, userGroups === null ? [] : userGroups, userFriends);\n        }\n    }\n\n    const renderTab = () => {\n        switch (activeTab) {\n            case \"groups\":\n                return (<UserGroupsList userGroups={userGroups === null ? [] : userGroups}/>)\n            case \"friends\":\n                return (<UserFriendsList userFriends={userFriends === null ? [] : userFriends}/>)\n                case \"friendsRecommendations\":\n                if (!userFriendsGroups){\n                    console.log('render loading!');\n                    return(\n                        <Group>\n                        <Div>\n                          <InfoRow title=\"Анализирую твоих друзей...\">\n                            <Progress value={userFriendsGroupsAnalyzeProgress} />\n                          </InfoRow>\n                        </Div>  \n                      </Group>\n                      )\n                }\n                return <UserGroupsList userGroups={userFriendsGroups}/>\n            default:\n                return (null)\n        }\n    }\n\n    return (\n        <Fragment>\n            <PanelHeader noShadow={true}>Мой паблик</PanelHeader>\n            <FixedLayout vertical=\"top\">\n                <Tabs type=\"buttons\" theme=\"header\">\n                    <HorizontalScroll>\n                        <TabsItem\n                            onClick={() => {\n                            changeActiveTab('groups')\n                        }}\n                            selected={activeTab === 'groups'}>\n                            Мои группы\n                        </TabsItem>\n                        <TabsItem\n                            onClick={() => {\n                            changeActiveTab('friends')\n                        }}\n                            selected={activeTab === 'friends'}>\n                            Мои друзья\n                        </TabsItem>\n                        <TabsItem\n                            onClick={() => {\n                            changeActiveTab('friendsRecommendations')\n                        }}\n                            selected={activeTab === 'friendsRecommendations'}>\n                            Рекомендации друзей\n                        </TabsItem>\n                    </HorizontalScroll>\n                </Tabs>\n            </FixedLayout>\n            <div id=\"content\" style={{\n                marginTop: '48px'\n            }}>{renderTab()}\n            </div>\n        </Fragment>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        ...state.main,\n        userGroups: state.user.userGroups,\n        userGroupsIsLoading: state.user.userGroupsIsLoading,\n        userFriends: state.user.userFriends,\n        userFriendsIsLoading: state.user.userFriendsIsLoading,\n        userFriendsGroups: state.user.userFriendsGroups,\n        userFriendsGroupsIsLoading: state.user.userFriendsGroupsIsLoading,\n        userFriendsGroupsAnalyzeProgress: state.user.userFriendsGroupsAnalyzeProgress,\n    }\n}\nconst mapDispatchToProps = {\n    changeActiveTab,\n    fetchUserGroups,\n    fetchUserFriends,\n    fetchUserFriendsGroups\n}\nexport default ReactConnect(mapStateToProps, mapDispatchToProps)(MainPanel);","import React, {Fragment, useState} from 'react';\nimport {connect as ReduxConnect} from 'react-redux';\nimport {PanelHeader, HeaderButton, platform, IOS} from '@vkontakte/vkui';\nimport {changePanel} from '../../Redux/mainReducer'\nimport {getUserGroups} from '../../vk-api';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport UserGroupsList from '../../Containers/UserGroupsList';\n\nconst osname = platform();\n\nconst FriendGroupsPanel = props => {\n\n    const {id, fullname} = props.activePanelProps;\n    const {authToken, changePanel} = props;\n    const [friendGroups, setFriendGroups] = useState([]);\n\n    const getFriendGroups = id => {\n        if (friendGroups.length === 0) {\n            getUserGroups(authToken, id).then(res=>{\n                setFriendGroups( res.data.response.items );\n            });\n            return (null);\n        } else {\n            return (\n                <UserGroupsList userGroups={friendGroups}/>\n                );\n        }\n    }\n\n    return (\n        <Fragment>\n            <PanelHeader\n            addon={<HeaderButton onClick={()=>{changePanel('main', {})}}>Назад</HeaderButton>}\n            left={<HeaderButton>{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\n            >{fullname}\n            </PanelHeader>\n            <div>{getFriendGroups(id)}</div>\n        </Fragment>\n    )\n}\n\nconst mapStateToProps = state => state.main\nconst mapDispatchToProps = {\n    changePanel\n}\n\nexport default ReduxConnect(mapStateToProps, mapDispatchToProps)(FriendGroupsPanel);","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport {connect as ReactConnect} from 'react-redux';\nimport {Root, View, Panel} from '@vkontakte/vkui';\nimport {changeView, changePanel, changeFetchedUser, changeAuthToken} from './Redux/mainReducer';\nimport MainPanel from './Panels/Main/MainPanel';\nimport FriendGroupsPanel from './Panels/FriendGroups/FriendGroupsPanel';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass App extends React.Component {\n    \n    componentDidMount() {\n\n        const { changeFetchedUser, changeAuthToken } = this.props;\n\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n                case\n                    'VKWebAppGetUserInfoResult':\n                    changeFetchedUser(e.detail.data);\n                    break;\n                case\n                    'VKWebAppAccessTokenReceived':\n                    changeAuthToken(e.detail.data.access_token);\n                    break;\n                default:\n                    console.log(e.detail.type);\n            }\n        });\n\n        connect.send('VKWebAppGetUserInfo', {});\n        connect.send('VKWebAppGetAuthToken', {\n            'app_id': 6921887,\n            'scope': 'groups,friends'\n        });\n    }\n\n    go = (e) => {\n        // this.setState({activePanel: e.currentTarget.dataset.to})\n        this.props.changePanel(e.currentTarget.dataset.to, null)\n    };\n\n    render() {\n\n        const {activeView, activePanel} = this.props;\n\n        return (\n            <Root activeView={activeView}>\n                <View id=\"main\" activePanel={activePanel}>\n                    <Panel id=\"main\">\n                        <MainPanel/>\n                    </Panel>\n                    <Panel id=\"friendGroups\">\n                        <FriendGroupsPanel/>\n                    </Panel>\n                </View>\n            </Root>\n\n        );\n    }\n}\n\nconst mapStateToProps = state => state.main\nconst mapDispatchToProps = {\n    changeView,\n    changePanel,\n    changeFetchedUser,\n    changeAuthToken\n}\n\nexport default ReactConnect(mapStateToProps, mapDispatchToProps)(App);","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nimport {Provider} from 'react-redux';\nimport {createStore, combineReducers, applyMiddleware} from 'redux';\nimport main from './Redux/mainReducer';\nimport user from './Redux/userReducer';\nimport thunk from 'redux-thunk';\n\nconst appReducers = {\n    main, user\n};\nconst store = createStore(combineReducers(appReducers), applyMiddleware(thunk));\n// import registerServiceWorker from './sw'; Init VK App\nconnect.send('VKWebAppInit', {});\n// connect.send('VKWebAppGetUserInfo', {}); connect.send('VKWebAppGetAuthToken',\n// {'app_id': 6921887, 'scope': 'groups'}); Если вы хотите, чтобы ваше\n// веб-приложение работало в оффлайне и загружалось быстрее, расскомментируйте\n// строку с registerServiceWorker(); Но не забывайте, что на данный момент у\n// технологии есть достаточно подводных камней Подробнее про сервис воркеры\n// можно почитать тут — https://vk.cc/8MHpmT registerServiceWorker();\n\nReactDOM.render(\n    <Provider store={store}><App/></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}